<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Parameters</title>
</head>

<style>
div.container
{
width:100%;
margin:0px;
border:1px solid #F1F1F1;
line-height:150%;
}
div.left
{
float:left;
width:500px;
margin:0;
padding:1em;
}
div.content
{
margin-left:570px;
padding:1em;
}
</style>

<script type="text/javascript" src="/media/jquery-1.4.2.min.js"></script>

<a href="/"> Back </a>
<body>

<script type="text/javascript">
$(document).ready(function(){
        // When the testform is submitted...
        $(".setform").submit(function(e) {
            // post the form values via AJAX...
            s=this.name;
            $.post('/setparam/'+s, {data: $("#"+s+"text").val()}, function(data) {
                        // and set the textfield with the result
                        $("#"+data['param']+"text").val(data['value']);
                   });
            e.preventDefault();
            });
});
</script> 

<script type="text/javascript">
$(document).ready(function(){
        // When the testform is submitted...
        $(".getform").submit(function(e) {
            // post the form values via AJAX...
            s=this.name;
            $.get('/getparam/'+s, function(data) {
                        // and set the textfield with the result
                        $("#"+data['param']+"text").val(data['value']);
                   });
            e.preventDefault();
            });
});
</script>

<%param_array='\",\"'.join(params)%>

<script type="text/javascript">
$(document).ready(function(){
	var parameters = ["${param_array}"]
	for (i=0;i<parameters.length;i++)
	{
 	   $.get('/getparam/'+parameters[i], function(data) {
                $("#"+data['param']+"text").val(data['value']);
           });       
	}
});
</script>

%for key in params:
<%
    val=values[params.index(key)]
%>
<div class="container">
    <div class="left">
        <div >
            <div style="float:left;">
<form id="${key}set" name="${key}" class="setform" action="" method="post"> 
${key}:&nbsp;
            </div>
            <div style="float:right;">
    <input type="submit" value="Set" />
            </div>
            <div style="float:right; margin-right:20px">
    <input type="text" id=${key}text value="${val}"name=${key} />
            </div>
        </div>
</form> 
    </div>

    <div class="content">
<form id="${key}get" name="${key}" class="getform" action="" method="get"> 
    <input type="hidden" value="${val}"name=${key} />
    <input type="submit" value="Get" />
</form>
    </div>
</div>
%endfor

<a href="/"> Back </a>
</body>
</html>
